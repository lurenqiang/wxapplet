<!--pages/service/reflectProblem/reflectProblem.wxml-->
<view class="container">
  <picker bindchange="bindPickerChange" value="{{index}}" range="{{array}}">
    <view class="picker">
      <view class="fb-type">
        <view class="type-label">{{array[index]}}</view>
        <van-icon class="type-icon" name="arrow-down" />        
      </view>
    </view>
  </picker>
  <view class="fb-body">
    <textarea class="content" placeholder="小区问题的反映..." bindinput="contentInput" maxlength="500" auto-focus="true" value="{{content}}" />
    <view class="weui-uploader__files" id="uploaderFiles">
      <block wx:for="{{files}}" wx:key="*this">
        <view class="weui-uploader__file" bindtap="previewImage" id="{{item}}">
          <image class="weui-uploader__img" src="{{item}}" mode="aspectFill" />
        </view>
      </block>
      <view class="weui-uploader__input-box" wx:if="{{ files.length < 5 }}">
        <view class="weui-uploader__input" bindtap="chooseImage"></view>
      </view>
    </view>
    <view class="text-count">{{contentLength}}/500</view>
  </view>
  <view class="fb-mobile-address">
    <view class="label">地址</view>
    <view class="address-box">
      <input class="address"  bindinput="addressInput" value="{{address}}" />
      <image class="addressImage" src="/images/location.png" catchtap="getLocation"></image>
      <van-icon class="clear-icon" name="close" wx:if="{{ address.length > 0 }}" catchtap="clearAddress"/>
    </view>
    <view class="label">手机号码</view>
    <view class="mobile-box">
      <input class="mobile" maxlength="11" type="number" placeholder="方便我们与你联系" bindinput="mobileInput" value="{{mobile}}" />
      <van-icon class="clear-icon" name="close" wx:if="{{ mobile.length > 0 }}" catchtap="clearMobile"/>
    </view>
  </view>

  <view class="fb-btn" bindtap="submitFeedback">提交</view>
</view>

